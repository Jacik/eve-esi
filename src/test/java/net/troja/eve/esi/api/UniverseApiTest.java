/*
 * EVE Swagger Interface
 * An OpenAPI for EVE Online
 *
 * The version of the OpenAPI document: 1.33
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


package net.troja.eve.esi.api;

import net.troja.eve.esi.ApiException;
import net.troja.eve.esi.model.BloodlinesResponse;
import net.troja.eve.esi.model.CategoryResponse;
import net.troja.eve.esi.model.ConstellationResponse;
import net.troja.eve.esi.model.FactionsResponse;
import net.troja.eve.esi.model.GraphicResponse;
import net.troja.eve.esi.model.GroupResponse;
import net.troja.eve.esi.model.MoonResponse;
import net.troja.eve.esi.model.PlanetResponse;
import net.troja.eve.esi.model.RacesResponse;
import net.troja.eve.esi.model.RegionResponse;
import net.troja.eve.esi.model.StarResponse;
import net.troja.eve.esi.model.StargateResponse;
import net.troja.eve.esi.model.StationResponse;
import net.troja.eve.esi.model.StructureResponse;
import net.troja.eve.esi.model.SystemJumpsResponse;
import net.troja.eve.esi.model.SystemKillsResponse;
import net.troja.eve.esi.model.SystemResponse;
import net.troja.eve.esi.model.TypeResponse;
import net.troja.eve.esi.model.UniverseAncestriesResponse;
import net.troja.eve.esi.model.UniverseAsteroidBeltsResponse;
import net.troja.eve.esi.model.UniverseIdsResponse;
import net.troja.eve.esi.model.UniverseNamesResponse;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Disabled;
import org.junit.jupiter.api.Test;

import java.util.HashSet;
import java.util.List;
import java.util.Set;

import static org.assertj.core.api.Assertions.assertThat;

/**
 * API tests for UniverseApi
 */
public class UniverseApiTest extends GeneralApiTest {

    private final UniverseApi api = new UniverseApi();

    @BeforeEach
    public void setUp() {
        api.setApiClient(apiClient);
    }

    /**
     * Get ancestries
     *
     * Get all character ancestries  ---  This route expires daily at 11:05
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseAncestriesTest() throws ApiException {
        String ifNoneMatch = null;
        String language = null;
        List<UniverseAncestriesResponse> response = api.getUniverseAncestries(LANGUAGE, DATASOURCE, ifNoneMatch, language);
        assertThat(response).hasSize(43);
        final UniverseAncestriesResponse ancestriesResponse = response.get(0);
        assertThat(ancestriesResponse.getBloodlineId()).isGreaterThan(0);
    }

    /**
     * Get asteroid belt information
     *
     * Get information on an asteroid belt  ---  This route expires daily at 11:05
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseAsteroidBeltsAsteroidBeltIdTest() throws ApiException {
        Integer asteroidBeltId = 40000018;
        String ifNoneMatch = null;
        UniverseAsteroidBeltsResponse response = api.getUniverseAsteroidBeltsAsteroidBeltId(asteroidBeltId, DATASOURCE, ifNoneMatch);
        assertThat(response).isNotNull();
        assertThat(response.getSystemId()).isEqualTo(30000001);
    }

    /**
     * Get bloodlines
     *
     * Get a list of bloodlines  ---  This route expires daily at 11:05
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseBloodlinesTest() throws ApiException {
        String ifNoneMatch = null;
        String language = null;
        List<BloodlinesResponse> response = api.getUniverseBloodlines(LANGUAGE, DATASOURCE, ifNoneMatch, language);
        assertThat(response).hasSize(18);
        final BloodlinesResponse bloodlinesResponse = response.get(0);
        assertThat(bloodlinesResponse.getBloodlineId()).isGreaterThan(0);
    }

    /**
     * Get item categories
     *
     * Get a list of item categories  ---  This route expires daily at 11:05
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseCategoriesTest() throws ApiException {
        String ifNoneMatch = null;
        List<Integer> response = api.getUniverseCategories(DATASOURCE, ifNoneMatch);
        assertThat(response).hasSize(47);
    }

    /**
     * Get item category information
     *
     * Get information of an item category  ---  This route expires daily at 11:05
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseCategoriesCategoryIdTest() throws ApiException {
        Integer categoryId = 8;
        String ifNoneMatch = null;
        String language = null;
        CategoryResponse response = api.getUniverseCategoriesCategoryId(categoryId, LANGUAGE, DATASOURCE, ifNoneMatch, language);
        assertThat(response.getName()).isEqualTo("Charge");
    }

    /**
     * Get constellations
     *
     * Get a list of constellations  ---  This route expires daily at 11:05
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseConstellationsTest() throws ApiException {
        String ifNoneMatch = null;
        List<Integer> response = api.getUniverseConstellations(DATASOURCE, ifNoneMatch);
        assertThat(response).hasSize(1174);
    }

    /**
     * Get constellation information
     *
     * Get information on a constellation  ---  This route expires daily at 11:05
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseConstellationsConstellationIdTest() throws ApiException {
        Integer constellationId = 20000006;
        String ifNoneMatch = null;
        String language = null;
        ConstellationResponse response = api.getUniverseConstellationsConstellationId(constellationId, LANGUAGE, DATASOURCE, ifNoneMatch, language);
        assertThat(response.getName()).isEqualTo("Sazdih");
    }

    /**
     * Get factions
     *
     * Get a list of factions  ---  This route expires daily at 11:05
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseFactionsTest() throws ApiException {
        String ifNoneMatch = null;
        String language = null;
        List<FactionsResponse> response = api.getUniverseFactions(LANGUAGE, DATASOURCE, ifNoneMatch, language);
        assertThat(response).hasSize(27);
        final FactionsResponse factionsResponse = response.get(0);
        assertThat(factionsResponse.getName()).isEqualTo("Amarr Empire");
    }

    /**
     * Get graphics
     *
     * Get a list of graphics  ---  This route expires daily at 11:05
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseGraphicsTest() throws ApiException {
        String ifNoneMatch = null;
        List<Integer> response = api.getUniverseGraphics(DATASOURCE, ifNoneMatch);
        assertThat(response.size()).isGreaterThan(0);
    }

    /**
     * Get graphic information
     *
     * Get information on a graphic  ---  This route expires daily at 11:05
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseGraphicsGraphicIdTest() throws ApiException {
        Integer graphicId = 1843;
        String ifNoneMatch = null;
        GraphicResponse response = api.getUniverseGraphicsGraphicId(graphicId, DATASOURCE, ifNoneMatch);
        assertThat(response.getGraphicId()).isEqualTo(graphicId);
        assertThat(response.getSofFationName()).isEqualTo("creodron");
    }

    /**
     * Get item groups
     *
     * Get a list of item groups  ---  This route expires daily at 11:05
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseGroupsTest() throws ApiException {
        String ifNoneMatch = null;
        Integer page = null;
        List<Integer> response = api.getUniverseGroups(DATASOURCE, ifNoneMatch, page);
        assertThat(response).hasSize(1000);
    }

    /**
     * Get item group information
     *
     * Get information on an item group  ---  This route expires daily at 11:05
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseGroupsGroupIdTest() throws ApiException {
        Integer groupId = 5;
        String ifNoneMatch = null;
        String language = null;
        GroupResponse response = api.getUniverseGroupsGroupId(groupId, LANGUAGE, DATASOURCE, ifNoneMatch, language);
        assertThat(response.getName()).isEqualTo("Solar System");
    }

    /**
     * Get moon information
     *
     * Get information on a moon  ---  This route expires daily at 11:05
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseMoonsMoonIdTest() throws ApiException {
        Integer moonId = 40001588;
        String ifNoneMatch = null;
        MoonResponse response = api.getUniverseMoonsMoonId(moonId, DATASOURCE, ifNoneMatch);
        assertThat(response.getName()).isEqualTo("Fovihi III - Moon 2") ;
    }

    /**
     * Get planet information
     *
     * Get information on a planet  ---  This route expires daily at 11:05
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniversePlanetsPlanetIdTest() throws ApiException {
        Integer planetId = 40001593;
        String ifNoneMatch = null;
        PlanetResponse response = api.getUniversePlanetsPlanetId(planetId, DATASOURCE, ifNoneMatch);
        assertThat(response.getName()).isEqualTo("Fovihi V");
    }

    /**
     * Get character races
     *
     * Get a list of character races  ---  This route expires daily at 11:05
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseRacesTest() throws ApiException {
        String ifNoneMatch = null;
        String language = null;
        List<RacesResponse> response = api.getUniverseRaces(LANGUAGE, DATASOURCE, ifNoneMatch, language);
        assertThat(response).hasSize(6);
        final RacesResponse racesResponse = response.get(0);
        assertThat(racesResponse.getName()).isEqualTo("Caldari");
    }

    /**
     * Get regions
     *
     * Get a list of regions  ---  This route expires daily at 11:05
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseRegionsTest() throws ApiException {
        String ifNoneMatch = null;
        List<Integer> response = api.getUniverseRegions(DATASOURCE, ifNoneMatch);
        assertThat(response).hasSize(112);
    }

    /**
     * Get region information
     *
     * Get information on a region  ---  This route expires daily at 11:05
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseRegionsRegionIdTest() throws ApiException {
        String ifNoneMatch = null;
        String language = null;
        RegionResponse response = api.getUniverseRegionsRegionId(REGION_ID_THE_FORGE, LANGUAGE, DATASOURCE, ifNoneMatch, language);
        assertThat(response.getName()).isEqualTo("The Forge");
    }

    /**
     * Get stargate information
     *
     * Get information on a stargate  ---  This route expires daily at 11:05
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseStargatesStargateIdTest() throws ApiException {
        Integer stargateId = 50000277;
        String ifNoneMatch = null;
        StargateResponse response = api.getUniverseStargatesStargateId(stargateId, DATASOURCE, ifNoneMatch);
        assertThat(response.getName()).isEqualTo("Stargate (Kiereend)");
    }

    /**
     * Get star information
     *
     * Get information on a star  ---  This route expires daily at 11:05
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseStarsStarIdTest() throws ApiException {
        Integer starId = 40001581;
        String ifNoneMatch = null;
        StarResponse response = api.getUniverseStarsStarId(starId, DATASOURCE, ifNoneMatch);
        assertThat(response.getName()).isEqualTo("Fovihi - Star");
    }

    /**
     * Get station information
     *
     * Get information on a station  ---  This route expires daily at 11:05
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseStationsStationIdTest() throws ApiException {
        Integer stationId = 60012541;
        String ifNoneMatch = null;
        StationResponse response = api.getUniverseStationsStationId(stationId, DATASOURCE, ifNoneMatch);
        assertThat(response.getName()).isEqualTo("Fovihi V - Ammatar Consulate Bureau");
    }

    /**
     * List all public structures
     *
     * List all public structures  ---  This route is cached for up to 3600 seconds
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseStructuresTest() throws ApiException {
        String filter = null;
        String ifNoneMatch = null;
        Set<Long> response = api.getUniverseStructures(DATASOURCE, filter, ifNoneMatch);
        assertThat(response).isNotEmpty();
    }

    /**
     * Get structure information
     *
     * Returns information on requested structure if you are on the ACL. Otherwise, returns \&quot;Forbidden\&quot; for all inputs.  ---  This route is cached for up to 3600 seconds
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    @Disabled("Can't be tested")
    public void getUniverseStructuresStructureIdTest() throws ApiException {
        Long structureId = null;
        String datasource = null;
        String ifNoneMatch = null;
        String token = null;
        StructureResponse response = api.getUniverseStructuresStructureId(structureId, datasource, ifNoneMatch, token);
        // TODO: test validations
    }

    /**
     * Get system jumps
     *
     * Get the number of jumps in solar systems within the last hour ending at the timestamp of the Last-Modified header, excluding wormhole space. Only systems with jumps will be listed  ---  This route is cached for up to 3600 seconds
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseSystemJumpsTest() throws ApiException {
        String ifNoneMatch = null;
        List<SystemJumpsResponse> response = api.getUniverseSystemJumps(DATASOURCE, ifNoneMatch);
        assertThat(response).isNotEmpty();
        assertThat(response.get(0).getSystemId()).isGreaterThan(30000);
    }

    /**
     * Get system kills
     *
     * Get the number of ship, pod and NPC kills per solar system within the last hour ending at the timestamp of the Last-Modified header, excluding wormhole space. Only systems with kills will be listed  ---  This route is cached for up to 3600 seconds
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseSystemKillsTest() throws ApiException {
        String ifNoneMatch = null;
        List<SystemKillsResponse> response = api.getUniverseSystemKills(DATASOURCE, ifNoneMatch);
        assertThat(response).isNotEmpty();
        assertThat(response.get(0).getSystemId()).isGreaterThan(30000);
    }

    /**
     * Get solar systems
     *
     * Get a list of solar systems  ---  This route expires daily at 11:05
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseSystemsTest() throws ApiException {
        String ifNoneMatch = null;
        List<Integer> response = api.getUniverseSystems(DATASOURCE, ifNoneMatch);
        assertThat(response).hasSize(8436);
    }

    /**
     * Get solar system information
     *
     * Get information on a solar system.  ---  This route expires daily at 11:05
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseSystemsSystemIdTest() throws ApiException {
        Integer systemId = 30000023;
        String ifNoneMatch = null;
        String language = null;
        SystemResponse response = api.getUniverseSystemsSystemId(systemId, LANGUAGE, DATASOURCE, ifNoneMatch, language);
        assertThat(response.getName()).isEqualTo("Fovihi");
    }

    /**
     * Get types
     *
     * Get a list of type ids  ---  This route expires daily at 11:05
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseTypesTest() throws ApiException {
        String ifNoneMatch = null;
        Integer page = null;
        List<Integer> response = api.getUniverseTypes(DATASOURCE, ifNoneMatch, page);
        assertThat(response).hasSize(1000);
    }

    /**
     * Get type information
     *
     * Get information on a type  ---  This route expires daily at 11:05
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void getUniverseTypesTypeIdTest() throws ApiException {
        String ifNoneMatch = null;
        String language = null;
        TypeResponse response = api.getUniverseTypesTypeId(TYPE_ID_VELDSPAR, LANGUAGE, DATASOURCE, ifNoneMatch, language);
        assertThat(response.getName()).isEqualTo(NAME_VELDSPAR);
    }

    /**
     * Bulk names to IDs
     *
     * Resolve a set of names to IDs in the following categories: agents, alliances, characters, constellations, corporations factions, inventory_types, regions, stations, and systems. Only exact matches will be returned. All names searched for are cached for 12 hours  --- 
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void postUniverseIdsTest() throws ApiException {
        Set<String> names = new HashSet<>();
        names.add("Aarnaras Wasken"); //Agents
        names.add(ALLIANCE_NAME_TRI); //Alliances
        names.add("GoldenGnu"); //Character
        names.add("Kimotoro"); //Constellations
        names.add(CORPORATION_NAME_TBD); //Corporations
        names.add("Caldari State"); //Factions
        names.add(NAME_VELDSPAR); //Inventory Types
        names.add("The Forge"); //Regions
        UniverseIdsResponse response = api.postUniverseIds(names, LANGUAGE, DATASOURCE, LANGUAGE);
        assertThat(response.getAgents()).hasSizeGreaterThan(0);
        assertThat(response.getAlliances()).hasSizeGreaterThan(0);
        assertThat(response.getCharacters()).hasSizeGreaterThan(0);
        assertThat(response.getConstellations()).hasSizeGreaterThan(0);
        assertThat(response.getCorporations()).hasSizeGreaterThan(0);
        assertThat(response.getFactions()).hasSizeGreaterThan(0);
        assertThat(response.getInventoryTypes()).hasSizeGreaterThan(0);
        assertThat(response.getRegions()).hasSizeGreaterThan(0);
    }

    /**
     * Get names and categories for a set of IDs
     *
     * Resolve a set of IDs to names and categories. Supported ID&#39;s for resolving are: Characters, Corporations, Alliances, Stations, Solar Systems, Constellations, Regions, Types, Factions  --- 
     *
     * @throws ApiException if the Api call fails
     */
    @Test
    public void postUniverseNamesTest() throws ApiException {
        final Set<Integer> ids = new HashSet<>();
        ids.add(CHARACTER_ID_CHRIBBA);
        List<UniverseNamesResponse> response = api.postUniverseNames(ids, DATASOURCE);
        assertThat(response).hasSize(1);
        final UniverseNamesResponse result = response.get(0);
        assertThat(result.getName()).isEqualTo(CHARACTER_NAME_CHRIBBA);
    }

}
